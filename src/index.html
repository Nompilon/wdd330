<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>NutriTrack Hub | Home</title>
    <link rel="stylesheet" href="/css/styles.css" />
    <link
      href="https://fonts.googleapis.com/css2?family=Poppins:wght@100;400&display=swap"
      rel="stylesheet"
    />
    <link rel="icon" href="images/nutrition_icon_136342.svg" />
  </head>

  <body>
    <div id="main-container">
      <!-- Sidebar -->
      <nav class="menu-container sidebar" aria-label="Main Navigation">
        <ul>
          <li><a href="index.html" class="nav-link active">Home</a></li>
          <li><a href="../recipes/index.html" class="nav-link">Recipes</a></li>
          <li><a href="../about/index.html" class="nav-link">About</a></li>
        </ul>
      </nav>

      <!-- Header -->
      <header class="top-card">
        <!-- Mobile Menu -->
        <nav class="menu-container mobile-menu" aria-label="Mobile Navigation">
          <button
            class="menu-btn"
            aria-expanded="false"
            aria-controls="mobile-menu-list"
          >
            â˜°
          </button>
          <ul class="dropdown-menu" id="mobile-menu-list">
            <li><a href="index.html" class="nav-link active">Home</a></li>
            <li>
              <a href="../recipes/index.html" class="nav-link">Recipes</a>
            </li>
            <li><a href="../about/index.html" class="nav-link">About</a></li>
          </ul>
        </nav>

        <h1 class="site-title">
          NutriTrack Hub
          <img src="../images/nutrition_icon_136342.svg" alt="Nutrition Icon" />
        </h1>

        <!-- Profile Upload -->
        <div class="profile-container">
          <label for="profile-upload" class="profile-label">
            <img
              src="images/default-profile-picture.svg"
              alt="User profile"
              id="profile-img"
              class="profile-img"
            />
          </label>
          <input type="file" id="profile-upload" accept="image/*" hidden />
        </div>
      </header>

      <!-- Main Dashboard -->
      <main>
        <section class="home-main">
          <!-- Welcome -->
          <div class="welcome">
            <h2>Welcome back!</h2>
            <p>Here's a quick look at your progress today.</p>
          </div>

          <!-- Daily Nutrient Summary -->
          <section class="summary" aria-label="Daily Nutrient Summary">
            <h2>Daily Nutrients Summary</h2>
            <div class="nutrient">
              <p><strong>Calories:</strong> 0 / 2000 kcal</p>
              <div class="progress-bar">
                <div class="progress-fill" style="width: 0%"></div>
              </div>
            </div>
            <div class="nutrient">
              <p><strong>Protein:</strong> 0 / 150 g</p>
              <div class="progress-bar">
                <div class="progress-fill" style="width: 0%"></div>
              </div>
            </div>
            <div class="nutrient">
              <p><strong>Carbs:</strong> 0 / 250 g</p>
              <div class="progress-bar">
                <div class="progress-fill" style="width: 0%"></div>
              </div>
            </div>
            <div class="nutrient">
              <p><strong>Fat:</strong> 0 / 70 g</p>
              <div class="progress-bar">
                <div class="progress-fill" style="width: 0%"></div>
              </div>
            </div>
          </section>

          <!-- Recent Meals -->
          <section class="recent-meals-section">
            <h2>Recent Meals</h2>
            <ul class="meal-log" id="recent-meals"></ul>
          </section>

          <button id="open-meal-modal" class="button-add-meal">Add Meal</button>
        </section>
        <!-- Nutrient Chart -->
        <section id="dashboard">
          <h2>Nutrient Trends</h2>
          <canvas id="nutrient-chart" width="600" height="300"></canvas>
        </section>
      </main>

      <!-- Meal Modal -->
      <div
        id="meal-modal"
        class="hidden"
        role="dialog"
        aria-modal="true"
        aria-labelledby="meal-modal-title"
      >
        <form id="meal-form">
          <h2 id="meal-modal-title">Add Meal</h2>

          <label for="meal-type">Meal Type:</label>
          <select id="meal-type">
            <option>Breakfast</option>
            <option>Lunch</option>
            <option>Dinner</option>
            <option>Snack</option>
          </select>

          <label for="food-name">Food Name:</label>
          <input id="food-name" type="text" required />

          <label for="portion">Portion (g):</label>
          <input id="portion" type="number" required />

          <div class="modal-actions">
            <button type="submit" class="button-submit-meal">Add Meal</button>
            <button
              type="button"
              id="close-meal-modal"
              class="button-cancel-meal"
            >
              Cancel
            </button>
          </div>
        </form>
      </div>

      <!-- Footer -->
      <footer class="bottom-nav">
        <nav aria-label="Footer Social Links">
          <ul class="footer-nav">
            <li>
              <a href="https://www.instagram.com/"
                ><img src="../images/instagram.svg" alt="Instagram"
              /></a>
            </li>
            <li>
              <a href="https://www.facebook.com/"
                ><img src="../images/facebook.svg" alt="Facebook"
              /></a>
            </li>
            <li>
              <a href="https://www.twitter.com/"
                ><img src="../images/twitter.svg" alt="Twitter"
              /></a>
            </li>
            <li>
              <a href="https://www.youtube.com/"
                ><img src="../images/youtube.svg" alt="YouTube"
              /></a>
            </li>
            <li>
              <a href="https://www.tiktok.com/"
                ><img src="../images/tiktok.svg" alt="TikTok"
              /></a>
            </li>
          </ul>
        </nav>
      </footer>
    </div>
    <script type="module" src="/js/main.js"></script>
    <canvas id="nutrient-chart" width="600" height="300"></canvas>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script>
      const ctx = document.getElementById("nutrient-chart");

      // Example data for presentation
      const labels = ["2026-02-16", "2026-02-17", "2026-02-18", "2026-02-19"];
      const caloriesData = [1800, 2100, 1950, 2000];
      const proteinData = [90, 110, 100, 105];
      const carbsData = [220, 250, 230, 240];
      const fatData = [70, 85, 75, 80];

      const data = {
        labels,
        datasets: [
          {
            label: "Calories (kcal)",
            data: caloriesData,
            borderColor: "red",
            backgroundColor: "rgba(255,0,0,0.2)",
            tension: 0.3,
          },
          {
            label: "Protein (g)",
            data: proteinData,
            borderColor: "blue",
            backgroundColor: "rgba(0,0,255,0.2)",
            tension: 0.3,
          },
          {
            label: "Carbs (g)",
            data: carbsData,
            borderColor: "orange",
            backgroundColor: "rgba(255,165,0,0.2)",
            tension: 0.3,
          },
          {
            label: "Fat (g)",
            data: fatData,
            borderColor: "green",
            backgroundColor: "rgba(0,128,0,0.2)",
            tension: 0.3,
          },
        ],
      };

      const config = {
        type: "line",
        data,
        options: {
          responsive: true,
          plugins: {
            legend: { position: "top" },
            title: { display: true, text: "Example Daily Nutrient Comparison" },
          },
          scales: {
            y: { beginAtZero: true },
            x: { title: { display: true, text: "Date" } },
          },
        },
      };

      new Chart(ctx, config);
    </script>
  </body>
</html>
